{header}
<script type="text/javascript" src="{url_tmpl_mobile}js/settings.js{cache_version_param}"></script>
<script type="text/javascript" src="{url_tmpl_mobile}js/checkable.js{cache_version_param}"></script>
<script id="script_replace_page">
    urlPageHistory='{url_page_profile_settings}';
</script>
<div class="head">
    <span class="title"><i class="fa fa-cog" aria-hidden="true"></i> {l_page_title}</span>
</div>
<div id="settings_box" class="bl_frm bl_frm_settings">
    <div class="profile_settings">
        <!-- begin_fields_group_1 -->
        <!-- begin_field_1 -->
        <!-- begin_field_select_1 -->
        <div class="bl">
            <label class="lsetting">{label}</label>
            <div class="field">
                <select id="{name_select}" name="{name_select}">
                    <!-- begin_field_select_item_1 -->
                    <option {selected} value="{value}">{title}</option>
                    <!-- end_field_select_item_1 -->
                </select>
            </div>
        </div>
        <!-- end_field_select_1 -->
        <!-- end_field_1 -->
        <!-- begin_timezone -->
        <div class="bl">
            <label class="lsetting">{l_timezone}</label>
            <div class="field">
                <select id="timezone" name="timezone">
                    {selectbox_options}
                </select>
            </div>
        </div>
        <!-- end_timezone -->
        <!-- begin_sp_active -->
        <p>{l_premium_account} {sp_active_till}</p>
        <!-- end_sp_active -->
        <div class="frm_btn">
            <button class="btn small pink btn_profile_settings save_settings" disabled>{l_save}</button>
        </div>
        <!-- end_fields_group_1 -->

        <div class="bl arrow">
        <div class="title">{l_notification_settings}
            <div class="cl"></div>
        </div>
        </div>
        <div class="bl_radio">

            <!-- <div class="bl">
                <label class="lsetting">{l_set_notif_push_notifications}</label>
                <div class="field" style="position: relative;">
                    <div class="switch-container" title="Subscribe Notification">
                        <input type="checkbox" id="js-push-btn" class="js-push-checkbox" />
                        <label for="js-push-btn" class="js-push-label"></label>
                    </div>
                    <div class="cl"></div>
                </div>
            </div> -->

        <!-- begin_field_2 -->
        <!-- begin_field_radio_2 -->
        <div class="bl">
            <label class="lsetting">{label}</label>
            <div class="field">
                <div class="list_radio">
                    <!-- begin_field_radio_item_2 -->
                    <input class="niceRadio" data-label="{title}" value={value} name="{name_radio}" id="radio_{name_radio}_{value}" type="radio" {checked}/>
                    <!-- end_field_radio_item_2 -->
                </div>
                <div class="cl"></div>
            </div>
        </div>
        <!-- end_field_radio_2 -->
        <!-- end_field_2 -->
        </div>
        <div class="frm_btn">
            <button class="btn small pink btn_profile_settings save_settings" disabled>{l_save}</button>
        </div>
        <!-- begin_invisible_mode -->
        <div class="bl arrow">
        <div class="title">{l_invisible_mode_impact}
            <div class="cl"></div>
        </div>
        </div>
        <div class="bl_radio">
        <!-- begin_invisible_mode_settings_upgrade -->
        <div class="info_link">{l_upgrade_your_account}</div>
        <!-- end_invisible_mode_settings_upgrade -->
        <!-- begin_invisible_mode_settings -->
        <!-- begin_field_3 -->
        <!-- begin_field_radio_3 -->
        <div class="bl">
            <label class="lsetting">{label}</label>
            <div class="field">
                <div class="list_radio">
                    <!-- begin_field_radio_item_3 -->
                    <input class="niceRadio" data-label="{title}" value={value} name="{name_radio}" id="radio_{name_radio}_{value}" type="radio" {checked}/>
                    <!-- end_field_radio_item_3 -->
                </div>
                <div class="cl"></div>
            </div>
        </div>
        <!-- end_field_radio_3 -->
        <!-- end_field_3 -->
        <div class="frm_btn">
            <button class="btn small pink btn_profile_settings save_settings" disabled>{l_save}</button>
        </div>
        <!-- end_invisible_mode_settings -->
        </div>
        <!-- end_invisible_mode -->

        <!-- begin_autotranslator_settings -->
        <div class="bl arrow">
        <div class="title">{l_autotranslator_settings}
            <div class="cl"></div>
        </div>
        </div>
        <div class="bl_radio">
        <!-- begin_field_8 -->
        <!-- begin_field_radio_8 -->
        <div class="bl">
            <label class="lsetting">{label}</label>
            <div class="field">
                <div class="list_radio">
                    <!-- begin_field_radio_item_8 -->
                    <input class="niceRadio" data-label="{title}" value={value} name="{name_radio}" id="radio_{name_radio}_{value}" type="radio" {checked}/>
                    <!-- end_field_radio_item_8 -->
                </div>
                <div class="cl"></div>
            </div>
        </div>
        <!-- end_field_radio_8 -->
        <!-- end_field_8 -->
        </div>
        <div class="frm_btn">
            <button class="btn small pink btn_profile_settings save_settings" disabled>{l_save}</button>
        </div>
        <!-- end_autotranslator_settings -->
    </div>

    <div class="bl arrow hideForSocialSignUp">
        <div class="title">{l_change_password}
            <div class="cl"></div>
        </div>
    </div>
    <div class="profile_settings_password hideForSocialSignUp">
        <div class="bl">
            <label>{l_current_password}</label>
            <div class="field">
                <input id="old_password" maxlength="{password_length_max}" type="password" name="old_password" minlength="8" readonly onclick="this.removeAttribute('readonly');" placeholder="{l_type} {l_current_password}" />
            </div>
        </div>
        <div class="bl">
            <label>{l_new_password}</label>
            <div class="field">
                <input id="new_password" maxlength="{password_length_max}" type="password" name="new_password" minlength="8" readonly onclick="this.removeAttribute('readonly');" placeholder="{l_type} {l_new_password}" />
            </div>
        </div>
        <div class="bl">
            <label>{l_retype_new_password}</label>
            <div class="field">
                <input id="verify_new_password" maxlength="{password_length_max}" type="password" name="verify_new_password" minlength="8" readonly onclick="this.removeAttribute('readonly');" placeholder="{l_type} {l_retype_new_password}" />
            </div>
            <label style="margin: 3px 0 -10px; display: inline-block;">
                <input type="checkbox" id="show_password" /> <span style="vertical-align: middle;">Show Password</span>
            </label>
            <div style="color: #ff5f4e;margin-top: 8px" id="passwordFormat">{l_format_password}</div>
        </div>
        <div class="frm_btn">
            <button id="pp_profile_looking_save" class="btn small pink btn_profile_password save_settings save_password" disabled>{l_save}</button>
        </div>
    </div>


    <div class="bl arrow hideForSocialSignUp">
        <div class="title">{l_change_email_address}
            <div class="cl"></div>
        </div>
    </div>
    <div class="profile_settings_email hideForSocialSignUp">
        <div class="bl">
            <label>{l_new_email_address}</label>
            <div class="field">
                <input id="new_email" name="new_email" type="text" readonly onclick="this.removeAttribute('readonly');" placeholder="{l_type} {l_new_email_address}" />
            </div>
        </div>
        <div class="bl">
            <label>{l_current_password}</label>
            <div class="field">
                <input id="password_email" maxlength="{password_length_max}" name="password" type="password" readonly onclick="this.removeAttribute('readonly');" placeholder="{l_type} {l_current_password}" />
            </div>            
            <label style="margin: 3px 0 0; display: inline-block;">
                <input type="checkbox" id="show_password2" /> <span style="vertical-align: middle;">Show Password</span>
            </label>
        </div>
        <div class="frm_btn">
            <button id="pp_profile_looking_save" class="btn small pink btn_profile_email save_settings" disabled>{l_save}</button>
        </div>
    </div>
    <!-- begin_delete_profile -->
    <div class="bl arrow">
        <div class="title">{l_delete_profile}
            <div class="cl"></div>
        </div>
    </div>
    <div class="profile_settings_delete">
        <input id="cmd_profile_delete" type="hidden" name="cmd" value="check_password" />
        <div class="bl">
            <label class="lsetting">{l_current_password}</label>
            <div class="field">
                <input maxlength="{password_length_max}" id="password_delete" type="password" name="password"/>
            </div>
        </div>
        <div class="frm_btn">
            <button id="pp_profile_looking_save" class="btn small pink btn_profile_delete save_settings" disabled>{l_delete}</button>
        </div>
    </div>
    <!-- end_delete_profile -->
    <script>
        var minCahrPass = '{password_length_min}'*1,
            maxCahrPass = '{password_length_max}'*1,
            lMinMaxLenPass='{max_min_length_password}';
        initProfileSettings();

        const socialSignUp = '{socialSignUp}';
        if(Number(socialSignUp)) {
            $(".hideForSocialSignUp").remove();
        }


        $('#show_password').change(function () {
            const passwordField = $('#new_password');
            const passwordField_verify = $('#verify_new_password');
            const passwordField_old = $('#old_password');
            if ($(this).is(':checked')) {
                passwordField.attr('type', 'text');
                passwordField_verify.attr('type', 'text');
                passwordField_old.attr('type', 'text');
            } else {
                passwordField.attr('type', 'password');
                passwordField_verify.attr('type', 'password');
                passwordField_old.attr('type', 'password');
            }
        });
        $('#show_password2').change(function () {
            const password_email = $('#password_email');
            if ($(this).is(':checked')) {
                password_email.attr('type', 'text');
            } else {
                password_email.attr('type', 'password');
            }
        });



        function validatePassword(password) {
            // Regular expression to check the password
            var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*]).{8,}$/;

            if (regex.test(password))
                return true;
        }
        function checkPassFormValidation() {
            var old_pass = $("#old_password").val();
            var new_pass = $("#new_password").val();
            var verify_pass = $("#verify_new_password").val();

            if(old_pass.length > 5 && validatePassword(new_pass) && validatePassword(verify_pass) && new_pass == verify_pass) {
                $(".save_password").prop("disabled", false);
                $("#passwordFormat").css({"color": "white"});
                return true;
            } else {
                $(".save_password").prop("disabled", true);
                $("#passwordFormat").css({"color": "#ff5f4e"});
            }
        }

        $("#new_password, #verify_new_password").keyup(function() {
            var password = this.value;
            $(".save_password").prop("disabled", true);

            var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*]).{8,}$/;
            if (regex.test(password)) {
                $(this).removeClass("invalid-border");
            } else {
                $(this).addClass("invalid-border");
            }

            checkPassFormValidation();
        });

        // PUSH NOTIFICATION 
        /*var checkPushButton = checkPushButton();
        if(checkPushButton == 1)
            $("#js-push-btn").val(checkPushButton).prop("checked", true);
        else if(checkPushButton == 2)
            $("#js-push-btn").val(checkPushButton).prop("checked", false);
        else if(checkPushButton == 3)
            $("#js-push-btn").val(checkPushButton).prop("checked", false);

        $("#js-push-btn").click(function() {
            if(this.value == 1) {
                try {
                    unsubscribeUserFromPush();
                    $(this).val(2).prop("checked", false);
                } catch(e) {
                    $(this).prop("checked", true);
                }
            } else if(this.value == 2) {
                try {
                    subscribeUserToPush();
                    $(this).val(1).prop("checked", true);
                } catch(e) {
                    $(this).prop("checked", false);
                }
            } else if(this.value == 3) {
                alertCustom('You have blocked notifications. Please enable them in your browser settings.', true, 'Notification Blocked');
                $(this).prop("checked", false);
            }
        })*/
    </script>
</div>
{footer}